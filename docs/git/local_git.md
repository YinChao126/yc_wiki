# Windows搭建局域网git开发环境

## 背景

内网开发时小组之间需要协同开发项目，然而内网无法连接互联网，此时通过git直接搭建简易局域网可以实现共享开发

## 需要的环境

 安装GitExtension和TortoiseGit两个工具

多台机器处于同一个局域网内（废话）

## 实现思路

（假设有A~C三台机器，以A为主机，BC为从机）

- A搭建服务器（实现一个Git裸仓库）
- A开放完全的共享权限（否则BC只能看不能改）
- A提交一个版本到服务器，作为初始化版本
- ABC可以自由从服务器上拉取版本并协同开发了

## 具体步骤

### A电脑首先进行共享配置，确保其他用户的读写权限

打开网络和共享中心->更改高级共享配置->依次勾选：启用网络发现、启用文件和打印机共享、启用共享以便可以访问网络的用户可以读取和写入共享文件夹中的文件、关闭密码保护共享

### A机搭建服务器（实现服务器的功能）

1. 任意地点建立一个文件夹：repertory
2. repertory属性设置：属性->共享->共享。点击”添加”左边的下拉箭头，添加一个EveryOne的用户，点击“添加”，并修改EveryOne的权限级别到“读/写”，启用共享
3. repertory文件夹初始化为一个裸工程：右击文件夹，选择“Git在这里创建版本库”，勾选“制作纯版本库”

### 任意从机上建立原始托管代码并推送

1. 以A机中的工程为主版本为例，直接选取欲同步的主工程文件夹workspace，右击打开属性设置，选择“Git在这里创建版本库”，将其初始化为一个Git项目（不要勾选）
2. 进行远端配置：右击workspace文件夹(注意，该文件夹一定是已经git化处理了的，否则没有远端这个选项)，选择ToroiseGit->设置->远端
3. 远端名称随便取，URL和推送URL都设置为步骤2中建立的repertory文件夹的绝对地址
4. 利用GitExtension实现对该文件夹内容的第一次提交和远程推送

### 其他从机的共享配置

1. 任意地址新建一个文件夹作，右击“git克隆”
2. url地址自行浏览到共享服务器repertory文件夹（在网络上找到A机的共享文件夹，第一次可能要输入用户密码）
3. 在GitExtension里打开repertory工程，点击“拉取”，即可获得服务器上最新版本的源码了（不拉取啥都看不到）

### 剩下的就是Git的协同开发步骤了，此处略